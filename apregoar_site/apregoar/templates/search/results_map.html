

<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <title>Test search</title>
        <meta name="viewport" content="initial-scale=1,maximum-scale=1,user-scalable=no">
        <link href="https://api.mapbox.com/mapbox-gl-js/v2.4.1/mapbox-gl.css" rel="stylesheet">
        <script src="https://api.mapbox.com/mapbox-gl-js/v2.4.1/mapbox-gl.js"></script>
        <style>
            body { margin: 0; padding: 0; }
            #map { position: absolute; top: 0; bottom: 0; width: 100%; }
        </style>
    </head>
    <body>
        <div id="map"></div>
        <script>
            mapboxgl.accessToken = 'pk.eyJ1IjoiY3dlbnRsaW5nIiwiYSI6ImNqd2F0cmVvajA5bHAzemx6NDF3bmZ6NGsifQ.2qy1Q4WfMf4XFllp2v96HQ';
            const map = new mapboxgl.Map(
                {
                    container: 'map',
                    style: 'mapbox://styles/cwentling/cksfd4uh6532w18nt3bbtxtae',
                    zoom: 12,
                    center: [-9.150404956762742, 38.72493479806579]
                }
            );
            

            map.on('load', () => {
                map.addSource('portugalfreguesias',
                    {
                        'type': 'vector',
                        'tiles': [
                            "http://localhost:8080/geoserver/gwc/service/wmts?REQUEST=GetTile&SERVICE=WMTS&VERSION=1.0.0&LAYER=apregoar:freguesias&STYLE=&TILEMATRIX=EPSG:900913:{z}&TILEMATRIXSET=EPSG:900913&FORMAT=application/vnd.mapbox-vector-tile&TILECOL={x}&TILEROW={y}"
                        ]
                    })
                map.addLayer(
                    {
                        'id': 'freguesias', // Layer ID
                        'type': 'fill',
                        'source': 'portugalfreguesias', // ID of the tile source created above
                        // Source has several layers. We visualize the one with name 'sequence'.
                        'source-layer': 'freguesias',
                    
                        'paint': {
                            "fill-outline-color": "#6e4040",
                            "fill-color": "#a442f5",
                            "fill-opacity": 0.25
                        }
                    },
                );
            });

            map.on('load', () => {
                map.addSource('apregoargaz',
                    {
                        'type': 'vector',
                        'tiles': [
                            "http://localhost:8080/geoserver/gwc/service/wmts?REQUEST=GetTile&SERVICE=WMTS&VERSION=1.0.0&LAYER=apregoar:ugazetteer&STYLE=&TILEMATRIX=EPSG:900913:{z}&TILEMATRIXSET=EPSG:900913&FORMAT=application/vnd.mapbox-vector-tile&TILECOL={x}&TILEROW={y}"
                        ]
                    })
                map.addLayer(
                    {
                        'id': 'ugazetteer', // Layer ID
                        'type': 'fill',
                        'source': 'apregoargaz', // ID of the tile source created above
                        // Source has several layers. We visualize the one with name 'sequence'.
                        'source-layer': 'ugazetteer',
                    
                        'paint': {
                            "fill-outline-color": "#cccc2d",
                            "fill-color": "#fc033d",
                            //"fill-opacity": 0.5
                        }
                    },
                );
            });
            
            
            map.addControl(new mapboxgl.NavigationControl());
        </script>
    </body>
</html>