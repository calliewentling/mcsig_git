(self.webpackChunk=self.webpackChunk||[]).push([[8178],{1866:function(n,e,a){"use strict";var t=a(5277),r=a(1136),i=a(1625),o=a(7340),l=a(1940),c=a(640),u=a(6363),s=a(5367),w=a(7389),f=a(5659),g=a(1622),v=a(4104),d=a(710),h=a(7842),m=a(9923),p={"Clement Latour":"rgba(0, 0, 255, 0.7)","Damien de Baesnt":"rgba(0, 215, 255, 0.7)","Sylvain Dhonneur":"rgba(0, 165, 255, 0.7)","Tom Payne":"rgba(0, 255, 255, 0.7)","Ulrich Prinz":"rgba(0, 215, 255, 0.7)"},b={},y=new l.Z,P=["data/igc/Clement-Latour.igc","data/igc/Damien-de-Baenst.igc","data/igc/Sylvain-Dhonneur.igc","data/igc/Tom-Payne.igc","data/igc/Ulrich-Prinz.igc"];function k(n,e){var a=new XMLHttpRequest;a.open("GET",n),a.onload=function(){e(a.responseText)},a.send()}for(var D=new r.Z,L=0;L<P.length;++L)k(P[L],(function(n){var e=D.readFeatures(n,{featureProjection:"EPSG:3857"});y.addFeatures(e)}));var T={start:1/0,stop:-1/0,duration:0};y.on("addfeature",(function(n){var e=n.feature.getGeometry();T.start=Math.min(T.start,e.getFirstCoordinate()[2]),T.stop=Math.max(T.stop,e.getLastCoordinate()[2]),T.duration=T.stop-T.start}));var z=new d.Z({source:y,style:function(n){var e=p[n.get("PLT")],a=b[e];return a||(a=new u.ZP({stroke:new s.Z({color:e,width:3})}),b[e]=a),a}}),M=new i.Z({layers:[new h.Z({source:new o.Z({attributions:['All maps Â© <a href="https://www.opencyclemap.org/">OpenCycleMap</a>',o.h],url:"https://{a-c}.tile.thunderforest.com/cycle/{z}/{x}/{y}.png?apikey=0e6fc415256d4fbb9b5166a718591d71"})}),z],target:"map",view:new c.ZP({center:[703365.7089403362,5714629.865071137],zoom:9})}),C=null,S=null,B=function(n){var e=y.getClosestFeatureToCoordinate(n),a=document.getElementById("info");if(null===e)C=null,S=null,a.innerHTML="&nbsp;";else{var t=e.getGeometry().getClosestPoint(n);null===C?C=new g.Z(t):C.setCoordinates(t);var r=new Date(1e3*t[2]);a.innerHTML=e.get("PLT")+" ("+r.toUTCString()+")";var i=[n,[t[0],t[1]]];null===S?S=new v.Z(i):S.setCoordinates(i)}M.render()};M.on("pointermove",(function(n){if(!n.dragging){var e=M.getEventCoordinate(n.originalEvent);B(e)}})),M.on("click",(function(n){B(n.coordinate)}));var E=new s.Z({color:"rgba(255,0,0,0.9)",width:1}),G=new u.ZP({stroke:E,image:new w.Z({radius:5,fill:null,stroke:E})});z.on("postrender",(function(n){var e=(0,m.u3)(n);e.setStyle(G),null!==C&&e.drawGeometry(C),null!==S&&e.drawGeometry(S)}));var U=new d.Z({source:new l.Z,map:M,style:new u.ZP({image:new w.Z({radius:5,fill:new f.Z({color:"rgba(255,0,0,0.9)"})})})});document.getElementById("time").addEventListener("input",(function(){var n=parseInt(this.value,10)/100,e=T.start+T.duration*n;y.forEachFeature((function(n){var a=n.getGeometry().getCoordinateAtM(e,!0),r=n.get("highlight");void 0===r?(r=new t.Z(new g.Z(a)),n.set("highlight",r),U.getSource().addFeature(r)):r.getGeometry().setCoordinates(a)})),M.render()}))}},function(n){"use strict";var e;e=1866,n(n.s=e)}]);
//# sourceMappingURL=igc.js.map