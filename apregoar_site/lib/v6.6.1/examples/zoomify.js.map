{"version":3,"sources":["webpack:///./zoomify.js"],"names":["zoomifyUrl","source","Z","url","size","crossOrigin","zDirection","extent","getTileGrid","getExtent","retinaSource","tilePixelRatio","tileSize","layer","layers","target","view","resolutions","getSource","getResolutions","constrainOnlyCenter","getView","fit","document","getElementById","addEventListener","event","const","value","currentTarget","setSource"],"mappings":"oIAQMA,EAAa,uCAEbC,EAAS,IAAI,EAAAC,EAAQ,CACzBC,IAAKH,EACLI,KAAM,CAPS,IACC,KAOhBC,YAAa,YACbC,YAAa,IAETC,EAASN,EAAOO,cAAcC,YAG9BC,EAAe,IAAI,EAAAR,EAAQ,CAC/BC,IAAKH,EACLI,KAAM,CAhBS,IACC,KAgBhBC,YAAa,YACbC,YAAa,EACbK,eANuB,EAOvBC,SAAU,MAGNC,EAAQ,IAAI,IAAU,CAC1BZ,OAAQA,IAGE,IAAI,IAAI,CAClBa,OAAQ,CAACD,GACTE,OAAQ,MACRC,KAAM,IAAI,KAAK,CAEbC,YAAaJ,EAAMK,YAAYV,cAAcW,iBAE7CZ,OAAQA,EACRa,qBAAqB,MAGrBC,UAAUC,IAAIf,GAEFgB,SAASC,eAAe,mBAChCC,iBAAiB,UAAU,SAAUC,GAC3CC,IAAMC,EAAQF,EAAMG,cAAcD,MACpB,YAAVA,EACFf,EAAMiB,UAAU7B,GACG,kBAAV2B,GACTf,EAAMiB,UAAUpB,Q","file":"zoomify.js","sourcesContent":["import Map from '../src/ol/Map.js';\nimport TileLayer from '../src/ol/layer/Tile.js';\nimport View from '../src/ol/View.js';\nimport Zoomify from '../src/ol/source/Zoomify.js';\n\nconst imgWidth = 4000;\nconst imgHeight = 3000;\n\nconst zoomifyUrl = 'https://ol-zoomify.surge.sh/zoomify/';\n\nconst source = new Zoomify({\n  url: zoomifyUrl,\n  size: [imgWidth, imgHeight],\n  crossOrigin: 'anonymous',\n  zDirection: -1, // Ensure we get a tile with the screen resolution or higher\n});\nconst extent = source.getTileGrid().getExtent();\n\nconst retinaPixelRatio = 2;\nconst retinaSource = new Zoomify({\n  url: zoomifyUrl,\n  size: [imgWidth, imgHeight],\n  crossOrigin: 'anonymous',\n  zDirection: -1, // Ensure we get a tile with the screen resolution or higher\n  tilePixelRatio: retinaPixelRatio, // Display retina tiles\n  tileSize: 256 / retinaPixelRatio, // from a higher zoom level\n});\n\nconst layer = new TileLayer({\n  source: source,\n});\n\nconst map = new Map({\n  layers: [layer],\n  target: 'map',\n  view: new View({\n    // adjust zoom levels to those provided by the source\n    resolutions: layer.getSource().getTileGrid().getResolutions(),\n    // constrain the center: center cannot be set outside this extent\n    extent: extent,\n    constrainOnlyCenter: true,\n  }),\n});\nmap.getView().fit(extent);\n\nconst control = document.getElementById('zoomifyProtocol');\ncontrol.addEventListener('change', function (event) {\n  const value = event.currentTarget.value;\n  if (value === 'zoomify') {\n    layer.setSource(source);\n  } else if (value === 'zoomifyretina') {\n    layer.setSource(retinaSource);\n  }\n});\n"],"sourceRoot":""}