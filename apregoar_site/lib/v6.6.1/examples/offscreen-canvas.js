(self.webpackChunk=self.webpackChunk||[]).push([[6440],{4251:function(e,n,t){"use strict";var r=t(800),a=t(1625),i=t(6427),o=t(640);var u,c,s,f,l,m,v=t(3784),d=t(2582),w=t(242),p=t(1382),g=new function(){return new Worker(t.p+"offscreen-canvas.worker.worker.js")};function h(){if(l){var e=m.viewState,n=l.viewState,t=e.center,r=e.resolution,a=e.rotation,i=n.center,o=n.resolution,u=n.rotation,s=(0,w.Ue)();a||(0,w.qC)(s,(i[0]-t[0])/r,(t[1]-i[1])/r,o/r,o/r,a-u,0,0),c.style.transform=(0,w.BB)(s)}}var b=new a.Z({layers:[new r.Z({render:function(e){return u||((u=document.createElement("div")).style.position="absolute",u.style.width="100%",u.style.height="100%",(c=document.createElement("div")).style.position="absolute",c.style.width="100%",c.style.height="100%",u.appendChild(c),(s=document.createElement("canvas")).style.position="absolute",s.style.left="0",s.style.transformOrigin="top left",c.appendChild(s)),m=e,h(),f?e.animate=!0:(f=!0,g.postMessage({action:"render",frameState:JSON.parse(v(e))})),u},source:new i.Z({attributions:['<a href="https://www.maptiler.com/copyright/" target="_blank">© MapTiler</a>','<a href="https://www.openstreetmap.org/copyright" target="_blank">© OpenStreetMap contributors</a>']})})],target:"map",view:new o.ZP({resolutions:(0,p.dl)({tileSize:512}).getResolutions89,center:[0,0],zoom:2})});b.addControl(new d.Z),b.on("pointermove",(function(e){if(!e.dragging){var n=b.getEventPixel(e.originalEvent);g.postMessage({action:"requestFeatures",pixel:n})}})),g.addEventListener("message",(function(e){if("loadImage"===e.data.action){var n=new Image;n.crossOrigin="anonymous",n.addEventListener("load",(function(){createImageBitmap(n,0,0,n.width,n.height).then((function(n){g.postMessage({action:"imageLoaded",image:n,src:e.data.src},[n])}))})),n.src=e.data.src}else"getFeatures"===e.data.action?function(e){if(0==e.length)return S.innerText="",void(S.style.opacity=0);var n=e.map((function(e){return Object.keys(e).filter((function(e){return!e.includes(":")})).reduce((function(n,t){return n[t]=e[t],n}),{})}));S.innerText=JSON.stringify(n,null,2),S.style.opacity=1}(e.data.features):"requestRender"===e.data.action?b.render():s&&"rendered"===e.data.action&&(requestAnimationFrame((function(){var n=e.data.imageData;s.width=n.width,s.height=n.height,s.getContext("2d").drawImage(n,0,0),s.style.transform=e.data.transform,l=e.data.frameState,h()})),f=!1)}));var S=document.getElementById("info")},3784:function(e,n){function t(e,n){var t=[],r=[];return null==n&&(n=function(e,n){return t[0]===n?"[Circular ~]":"[Circular ~."+r.slice(0,t.indexOf(n)).join(".")+"]"}),function(a,i){if(t.length>0){var o=t.indexOf(this);~o?t.splice(o+1):t.push(this),~o?r.splice(o,1/0,a):r.push(a),~t.indexOf(i)&&(i=n.call(this,a,i))}else t.push(i);return null==e?i:e.call(this,a,i)}}(e.exports=function(e,n,r,a){return JSON.stringify(e,t(n,a),r)}).getSerialize=t}},function(e){"use strict";var n;n=4251,e(e.s=n)}]);
//# sourceMappingURL=offscreen-canvas.js.map