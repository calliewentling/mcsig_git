(self.webpackChunk=self.webpackChunk||[]).push([[6423],{4877:function(e,t,r){"use strict";var n=r(1625),i=r(4662),s=r(2296),o=r(780),c=r(6894),u=r(5400),a=r(158),f=r(3561),h="https://api.mapbox.com";function v(e){var t="mapbox://";return 0!==e.indexOf(t)?"":e.slice(t.length)}var l=function(e){function t(t){e.call(this,s.Z.ERROR),this.error=t}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t}(i.ZP),p="vector",d=function(e){function t(t){var r=!("declutter"in t)||t.declutter,n=new a.Z({state:c.Z.LOADING,format:new o.Z});e.call(this,{source:n,declutter:r,className:t.className,opacity:t.opacity,visible:t.visible,zIndex:t.zIndex,minResolution:t.minResolution,maxResolution:t.maxResolution,minZoom:t.minZoom,maxZoom:t.maxZoom,renderOrder:t.renderOrder,renderBuffer:t.renderBuffer,renderMode:t.renderMode,map:t.map,updateWhileAnimating:t.updateWhileAnimating,updateWhileInteracting:t.updateWhileInteracting,preload:t.preload,useInterimTilesOnError:t.useInterimTilesOnError,properties:t.properties}),this.sourceId=t.source,this.layers=t.layers,this.accessToken=t.accessToken,this.fetchStyle(t.styleUrl)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.fetchStyle=function(e){var t=this,r=function(e,t){var r=v(e);if(!r)return e;var n="styles/";if(0!==r.indexOf(n))throw new Error("unexpected style url: "+e);var i=r.slice(n.length);return h+"/styles/v1/"+i+"?&access_token="+t}(e,this.accessToken);fetch(r).then((function(e){if(!e.ok)throw new Error("unexpected response when fetching style: "+e.status);return e.json()})).then((function(e){t.onStyleLoad(e)})).catch((function(e){t.handleError(e)}))},t.prototype.onStyleLoad=function(e){var t,r,n=this;if(this.layers){for(var i,s={},o=0;o<e.layers.length;++o){var u=e.layers[o];u.source&&(s[u.id]=u.source)}for(var a=0;a<this.layers.length;++a){var l=s[this.layers[a]];if(!l)return void this.handleError(new Error("could not find source for "+this.layers[a]));if(i){if(i!==l)return void this.handleError(new Error("layers can only use a single source, found "+i+" and "+l))}else i=l}t=i,r=this.layers}else r=t=this.sourceId;r||(r=t=Object.keys(e.sources)[0]),e.sprite&&(e.sprite=function(e,t){var r=v(e);if(!r)return e;var n="sprites/";if(0!==r.indexOf(n))throw new Error("unexpected sprites url: "+e);var i=r.slice(n.length);return h+"/styles/v1/"+i+"/sprite?access_token="+t}(e.sprite,this.accessToken)),e.glyphs&&(e.glyphs=function(e,t){var r=v(e);if(!r)return e;var n="fonts/";if(0!==r.indexOf(n))throw new Error("unexpected fonts url: "+e);var i=r.slice(n.length);return h+"/fonts/v1/"+i+"/0-255.pbf?access_token="+t}(e.glyphs,this.accessToken));var d=e.sources[t];if(d.type===p){var m,w,b,y=this.getSource();y.setUrl((m=d.url,w=this.accessToken,(b=v(m))?"https://{a-d}.tiles.mapbox.com/v4/"+b+"/{z}/{x}/{y}.vector.pbf?access_token="+w:m)),(0,f.bg)(this,e,r).then((function(){y.setState(c.Z.READY)})).catch((function(e){n.handleError(e)}))}else this.handleError(new Error("only works for vector sources, found "+d.type))},t.prototype.handleError=function(e){this.dispatchEvent(new l(e)),this.getSource().setState(c.Z.ERROR)},t}(u.Z),m=r(640);new n.Z({target:"map",layers:[new d({styleUrl:"mapbox://styles/mapbox/bright-v9",accessToken:"pk.eyJ1IjoiYWhvY2V2YXIiLCJhIjoiY2pzbmg0Nmk5MGF5NzQzbzRnbDNoeHJrbiJ9.7_-_gL8ur7ZtEiNwRfCy7Q"})],view:new m.ZP({center:[0,0],zoom:2})})}},function(e){"use strict";var t;t=4877,e(e.s=t)}]);
//# sourceMappingURL=mapbox-vector-layer.js.map