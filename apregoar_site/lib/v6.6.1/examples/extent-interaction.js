(self.webpackChunk=self.webpackChunk||[]).push([[6398],{7436:function(t,n,i){"use strict";var u=i(4662),e=i(5277),r=i(1209),s=i(5542),h=i(1622),l=i(8754),o=i(710),c=i(1940),a=i(2049),f=i(6666),v=i(2581),w=i(6363),d=i(1611),p=i(4589),g="extentchanged",m=function(t){function n(n){t.call(this,g),this.extent=n}return t&&(n.__proto__=t),n.prototype=Object.create(t&&t.prototype),n.prototype.constructor=n,n}(u.ZP);function j(){var t=(0,w.Ly)();return function(n,i){return t[r.Z.POINT]}}function I(t){return function(n){return(0,f.hI)([t,n])}}function W(t,n){return t[0]==n[0]?function(i){return(0,f.hI)([t,[i[0],n[1]]])}:t[1]==n[1]?function(i){return(0,f.hI)([t,[n[0],i[1]]])}:null}var x=function(t){function n(n){var i,u=n||{};t.call(this,u),this.on,this.once,this.un,this.t=u.condition?u.condition:a.Bx,this.i=null,this.u=null,this.h=void 0!==u.pixelTolerance?u.pixelTolerance:10,this.l=!1,this.o=null,this.v=null,n||(n={}),this.p=new o.Z({source:new c.Z({useSpatialIndex:!1,wrapX:!!n.wrapX}),style:n.boxStyle?n.boxStyle:(i=(0,w.Ly)(),function(t,n){return i[r.Z.POLYGON]}),updateWhileAnimating:!0,updateWhileInteracting:!0}),this.g=new o.Z({source:new c.Z({useSpatialIndex:!1,wrapX:!!n.wrapX}),style:n.pointerStyle?n.pointerStyle:j(),updateWhileAnimating:!0,updateWhileInteracting:!0}),n.extent&&this.setExtent(n.extent)}return t&&(n.__proto__=t),n.prototype=Object.create(t&&t.prototype),n.prototype.constructor=n,n.prototype.m=function(t,n){var i=n.getCoordinateFromPixelInternal(t),u=this.getExtentInternal();if(u){var e=function(t){return[[[t[0],t[1]],[t[0],t[3]]],[[t[0],t[3]],[t[2],t[3]]],[[t[2],t[3]],[t[2],t[1]]],[[t[2],t[1]],[t[0],t[1]]]]}(u);e.sort((function(t,n){return(0,v.Bs)(i,t)-(0,v.Bs)(i,n)}));var r=e[0],s=(0,v.oL)(i,r),h=n.getPixelFromCoordinateInternal(s);if((0,v.TE)(t,h)<=this.h){var l=n.getPixelFromCoordinateInternal(r[0]),o=n.getPixelFromCoordinateInternal(r[1]),c=(0,v.bI)(h,l),a=(0,v.bI)(h,o),f=Math.sqrt(Math.min(c,a));return this.l=f<=this.h,this.l&&(s=c>a?r[1]:r[0]),s}}return null},n.prototype.j=function(t){var n=t.pixel,i=t.map,u=this.m(n,i);u||(u=i.getCoordinateFromPixelInternal(n)),this.I(u)},n.prototype.W=function(t){var n=this.o;return n?t?n.setGeometry((0,d.oJ)(t)):n.setGeometry(void 0):(n=t?new e.Z((0,d.oJ)(t)):new e.Z({}),this.o=n,this.p.getSource().addFeature(n)),n},n.prototype.I=function(t){var n=this.v;n?n.getGeometry().setCoordinates(t):(n=new e.Z(new h.Z(t)),this.v=n,this.g.getSource().addFeature(n));return n},n.prototype.handleEvent=function(n){return!n.originalEvent||!this.t(n)||(n.type!=s.Z.POINTERMOVE||this.handlingDownUpSequence||this.j(n),t.prototype.handleEvent.call(this,n),!1)},n.prototype.handleDownEvent=function(t){var n=t.pixel,i=t.map,u=this.getExtentInternal(),e=this.m(n,i),r=function(t){var n=null,i=null;return t[0]==u[0]?n=u[2]:t[0]==u[2]&&(n=u[0]),t[1]==u[1]?i=u[3]:t[1]==u[3]&&(i=u[1]),null!==n&&null!==i?[n,i]:null};if(e&&u){var s=e[0]==u[0]||e[0]==u[2]?e[0]:null,h=e[1]==u[1]||e[1]==u[3]?e[1]:null;null!==s&&null!==h?this.u=I(r(e)):null!==s?this.u=W(r([s,u[1]]),r([s,u[3]])):null!==h&&(this.u=W(r([u[0],h]),r([u[2],h])))}else e=i.getCoordinateFromPixelInternal(n),this.setExtent([e[0],e[1],e[0],e[1]]),this.u=I(e);return!0},n.prototype.handleDragEvent=function(t){if(this.u){var n=t.coordinate;this.setExtent(this.u(n)),this.I(n)}},n.prototype.handleUpEvent=function(t){this.u=null;var n=this.getExtentInternal();return n&&0!==(0,f.bg)(n)||this.setExtent(null),!1},n.prototype.setMap=function(n){this.p.setMap(n),this.g.setMap(n),t.prototype.setMap.call(this,n)},n.prototype.getExtent=function(){return(0,p.Fj)(this.getExtentInternal(),this.getMap().getView().getProjection())},n.prototype.getExtentInternal=function(){return this.i},n.prototype.setExtent=function(t){this.i=t||null,this.W(t),this.dispatchEvent(new m(this.i))},n}(l.Z),y=i(3919),b=i(1625),A=i(640),M=i(7340),O=i(7842),S=new c.Z({url:"data/geojson/countries.geojson",format:new y.Z}),X=new b.Z({layers:[new O.Z({source:new M.Z}),new o.Z({source:S})],target:"map",view:new A.ZP({center:[0,0],zoom:2})}),z=new x({condition:a.vY});X.addInteraction(z)}},function(t){"use strict";var n;n=7436,t(t.s=n)}]);
//# sourceMappingURL=extent-interaction.js.map